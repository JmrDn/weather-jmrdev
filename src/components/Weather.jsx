import React, { useState,useEffect } from 'react';
import Cloudy from '../assets/images/cloudy.png';
import Spinner from './Spinner';
import NoLocation from '../assets/images/nolocation.webp';
import Sun from '../assets/images/sun.png';
import Storm from '../assets/images/storm.png';
import Snow from '../assets/images/snowy.png';
import Rain from '../assets/images/rain.png';
import Mist from '../assets/images/mist.png';


const Weather = ({ weather, isLocationExist }) => {

  const [weatherConditionImg, setWeatherConditionImg] = useState(null);
  useEffect(()=>{
    const weatherCondition = weather.weather[0].main;
    switch(weatherCondition.toLowerCase().trim()){
     case 'clouds':
      setWeatherConditionImg(Cloudy);
      break;
    case 'rain':
      setWeatherConditionImg(Rain);
      break;
    case 'clear':
      setWeatherConditionImg(Sun);
      break;
    case 'snow':
      setWeatherConditionImg(Snow);
      break;
    case 'thunderstorm':
      setWeatherConditionImg(Storm);
      break;
    case 'mist':
      setWeatherConditionImg(Mist);
      break;
    case 'haze':
      setWeatherConditionImg(Mist);
      break;
    default:
      setWeatherConditionImg(Cloudy);
      break;
    }
  }, [weather]);
  



  return (
    <div className="basis-[49%] flex justify-center items-center">
      {isLocationExist ?
        (<div className=' flex flex-col  items-center justify-center px-8'>
          <img src={weatherConditionImg} alt="Cloudy" className="w-[200px] h-[200px] mt-10 " />
          <div className="text-white text-6xl font-kanit mt-4">{Math.round(weather.main.temp - 273.15)}Â°C</div>
          <div className="text-white text-3xl font-kanit">{weather.weather[0].main}</div>

          <div className="flex mt-12 gap-10 lg:gap-20 w-full">
            <div className="flex">
              <svg width="60" height="40" viewBox="0 0 80 66" fill="none" xmlns="http://www.w3.org/2000/svg" className="mt-3">
                <path d="M50.9331 0.931207C57.6302 -0.518649 65.9386 -0.446176 77.2448 2.37339C79.1932 2.85925 80.3775 4.82878 79.8906 6.77241C79.4037 8.71605 77.4295 9.89784 75.4812 9.41198C64.9695 6.79063 57.8237 6.86354 52.4757 8.02136C47.111 9.18271 43.2546 11.4861 39.1691 13.9769L38.8633 14.1634C34.9251 16.566 30.5642 19.2265 24.8027 20.1844C18.8267 21.1778 11.7674 20.2995 2.28665 16.5159C0.422071 15.7718 -0.484824 13.6606 0.261089 11.8005C1.00698 9.94034 3.12324 9.03562 4.98782 9.77976C13.6886 13.252 19.3562 13.7345 23.6073 13.0278C27.9232 12.3104 31.2136 10.3242 35.3768 7.78616C39.4728 5.28892 44.2524 2.37746 50.9331 0.931207Z" fill="white" />
                <path d="M77.2448 16.8837C65.9386 14.0642 57.6302 13.9917 50.9331 15.4416C44.2524 16.8878 39.4728 19.7993 35.3768 22.2965C31.2136 24.8346 27.9232 26.8208 23.6073 27.5382C19.3562 28.2448 13.6886 27.7622 4.98782 24.2901C3.12324 23.546 1.00698 24.4507 0.261089 26.311C-0.484824 28.171 0.422071 30.2822 2.28665 31.0262C11.7674 34.8099 18.8267 35.6881 24.8027 34.6946C30.5642 33.7368 34.9251 31.0764 38.8633 28.6739L39.1691 28.4873C43.2546 25.9964 47.111 23.6931 52.4757 22.5317C57.8237 21.3739 64.9695 21.301 75.4812 23.9223C77.4295 24.4082 79.4037 23.2264 79.8906 21.2828C80.3775 19.3391 79.1932 17.3696 77.2448 16.8837Z" fill="white" />
                <path fillRule="evenodd" clipRule="evenodd" d="M65.4538 25.5513C64.1913 25.5513 63.1393 26.2033 62.4051 27.1898C62.1473 27.5382 61.5513 28.3535 60.7596 29.4945C59.7065 31.012 58.2971 33.1207 56.8814 35.4746C55.4727 37.8167 54.0193 40.4655 52.9073 43.0535C51.8425 45.532 50.9051 48.2233 50.9087 50.9517C50.9112 51.7175 51.0029 52.4869 51.1287 53.2407C51.3389 54.4989 51.7658 56.2313 52.656 58.0077C53.5534 59.7986 54.9567 61.6997 57.1298 63.1448C59.3258 64.6051 62.0902 65.4546 65.4538 65.4546C68.8174 65.4546 71.5818 64.6051 73.7774 63.1448C75.9505 61.6997 77.3542 59.7986 78.2516 58.008C79.1418 56.2313 79.5691 54.4989 79.7793 53.2411C79.9055 52.4862 79.9982 51.7146 79.9993 50.948C80.0004 48.2197 79.0655 45.5324 78.0004 43.0535C76.8887 40.4655 75.4353 37.8167 74.0265 35.4746C72.6109 33.1207 71.2011 31.012 70.148 29.4945C69.3564 28.3535 68.76 27.5382 68.5025 27.1898C67.7684 26.2033 66.716 25.5513 65.4538 25.5513ZM71.316 45.9117C70.3825 43.7386 69.1087 41.3993 67.7902 39.2073C66.9884 37.8742 66.1844 36.6189 65.4538 35.5178C64.7233 36.6189 63.9193 37.8742 63.1174 39.2073C61.7993 41.3993 60.5254 43.7386 59.592 45.9117L59.5389 46.0346C58.8963 47.5287 58.1371 49.2953 58.1822 50.9458C58.2258 52.2513 58.5774 53.5989 59.1611 54.7633C59.6269 55.6935 60.2691 56.5131 61.164 57.1084C62.0364 57.6884 63.3629 58.1993 65.4538 58.1993C67.5447 58.1993 68.8713 57.6884 69.7436 57.1084C70.6385 56.5131 71.2807 55.6931 71.7469 54.7633C72.3305 53.5989 72.6822 52.2513 72.7258 50.9455C72.7713 49.2957 72.0116 47.5291 71.3691 46.0353L71.316 45.9117Z" fill="white" />
                <path d="M47.744 31.0212C50.5087 30.1263 52.6284 33.0038 51.3284 35.5972C50.7346 36.7823 50.0666 37.7907 48.7385 38.2598C45.1855 39.5151 42.2422 41.2827 39.1691 43.1561L38.8633 43.3427C34.9251 45.7452 30.5642 48.4056 24.8027 49.3634C18.8267 50.3569 11.7674 49.4787 2.28665 45.6951C0.422065 44.9511 -0.484816 42.8398 0.261083 40.9798C1.00701 39.1194 3.12323 38.2147 4.98785 38.9591C13.6886 42.4311 19.3562 42.9136 23.6073 42.2071C27.9232 41.4896 31.2136 39.5034 35.3767 36.9652C39.3331 34.5532 43.4047 32.426 47.744 31.0212Z" fill="white" />
              </svg>

              <div className="p-0">
                <div className="font-kanit text-white text-lg  ml-2">Humidity</div>
                <div className="font-kanit text-white text-xl md:text-3xl -mt-1 ml-2"> {weather.main.humidity} %</div>
              </div>

            </div>

            <div className="flex">
              <svg width="60" height="41" viewBox="0 0 85 71" fill="none" xmlns="http://www.w3.org/2000/svg" className="mt-3">
                <path d="M4.39655 26.3793C3.23051 26.3793 2.11223 25.9161 1.28772 25.0916C0.463207 24.2671 0 23.1488 0 21.9828C0 20.8167 0.463207 19.6984 1.28772 18.8739C2.11223 18.0494 3.23051 17.5862 4.39655 17.5862H39.569C40.735 17.5862 41.8533 17.123 42.6778 16.2985C43.5023 15.474 43.9655 14.3557 43.9655 13.1897C43.9655 12.0236 43.5023 10.9053 42.6778 10.0808C41.8533 9.25631 40.735 8.7931 39.569 8.7931C38.1532 8.83431 36.8074 9.418 35.8099 10.4235C34.9758 11.1839 33.8813 11.5943 32.7529 11.5699C31.6245 11.5455 30.5487 11.0881 29.7483 10.2924C28.9479 9.49669 28.4841 8.42362 28.4531 7.2954C28.422 6.16718 28.826 5.07023 29.5815 4.23168C32.2326 1.57443 35.8158 0.0562508 39.569 0C43.0671 0 46.4219 1.38962 48.8955 3.86316C51.369 6.3367 52.7586 9.69154 52.7586 13.1897C52.7586 16.6878 51.369 20.0426 48.8955 22.5161C46.4219 24.9897 43.0671 26.3793 39.569 26.3793H4.39655ZM71.8103 13.1897C68.0521 13.2421 64.463 14.7606 61.8082 17.4213C61.0528 18.2599 60.6487 19.3568 60.6798 20.4851C60.7109 21.6133 61.1746 22.6863 61.975 23.4821C62.7755 24.2778 63.8512 24.7352 64.9796 24.7596C66.108 24.784 67.2026 24.3735 68.0366 23.6131C69.0378 22.6042 70.3895 22.0202 71.8103 21.9828C72.9764 21.9828 74.0947 22.446 74.9192 23.2705C75.7437 24.095 76.2069 25.2133 76.2069 26.3793C76.2069 27.5453 75.7437 28.6636 74.9192 29.4881C74.0947 30.3127 72.9764 30.7759 71.8103 30.7759H7.32759C6.16155 30.7759 5.04327 31.2391 4.21875 32.0636C3.39424 32.8881 2.93103 34.0064 2.93103 35.1724C2.93103 36.3385 3.39424 37.4567 4.21875 38.2812C5.04327 39.1058 6.16155 39.569 7.32759 39.569H71.8103C75.3085 39.569 78.6633 38.1793 81.1368 35.7058C83.6104 33.2323 85 29.8774 85 26.3793C85 22.8812 83.6104 19.5264 81.1368 17.0528C78.6633 14.5793 75.3085 13.1897 71.8103 13.1897ZM51.2931 43.9655H10.2586C9.09258 43.9655 7.9743 44.4287 7.14979 45.2532C6.32528 46.0778 5.86207 47.196 5.86207 48.3621C5.86207 49.5281 6.32528 50.6464 7.14979 51.4709C7.9743 52.2954 9.09258 52.7586 10.2586 52.7586H51.2931C52.4591 52.7586 53.5774 53.2218 54.4019 54.0463C55.2264 54.8709 55.6897 55.9891 55.6897 57.1552C55.6897 58.3212 55.2264 59.4395 54.4019 60.264C53.5774 61.0885 52.4591 61.5517 51.2931 61.5517C49.8763 61.5103 48.5295 60.9267 47.5304 59.9213C47.1318 59.4789 46.6474 59.122 46.1067 58.8724C45.566 58.6227 44.9802 58.4856 44.3849 58.4692C43.7896 58.4528 43.1971 58.5575 42.6435 58.777C42.0899 58.9965 41.5866 59.3262 41.1642 59.7461C40.7419 60.166 40.4092 60.6673 40.1865 61.2196C39.9637 61.7719 39.8555 62.3637 39.8684 62.9591C39.8812 63.5545 40.015 64.1411 40.2614 64.6833C40.5078 65.2255 40.8618 65.7119 41.3019 66.1131C43.954 68.7713 47.5387 70.2895 51.2931 70.3448C54.7912 70.3448 58.1461 68.9552 60.6196 66.4817C63.0931 64.0081 64.4828 60.6533 64.4828 57.1552C64.4828 53.6571 63.0931 50.3022 60.6196 47.8287C58.1461 45.3551 54.7912 43.9655 51.2931 43.9655Z" fill="white" />
              </svg>


              <div className="p-0">
                <div className="font-kanit text-white text-lg  ml-2 text-nowrap">Wind Speed</div>
                <div className="font-kanit text-white text-xl md:text-3xl -mt-1 ml-2">{weather.wind.speed} Km/h</div>
              </div>

            </div>
          </div>
        </div>) 
        :
        (<div className='flex flex-col items-center '>
          <img src={NoLocation} alt="Cloudy" className="w-[200px] h-[200px] mt-10 " />
          <div className='text-2xl md:text-4xl text-white  my-8 font-kanit '>No location found</div>
        </div>)}      
    </div>
  )

}

export default Weather